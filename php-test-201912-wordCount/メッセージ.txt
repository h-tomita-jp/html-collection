はじめまして、富田と申します。

「かんたんなテキストファイル加工ツールの作成」の依頼を拝見しました。

既に別の方とご契約との事なのは承知しておりますので、
あくまでもご参考としてご連絡させて頂きます。

上記のご依頼がとても興味深かったため、
ネットで拾ってきた字幕ファイルを題材に
実際に動くものをPHPで作成してみました。

拾ってきた字幕ファイルは
http://htomitajp.starfree.jp/test/test.srt
に置いてあり、
http://htomitajp.starfree.jp/test/
のPHPが字幕ファイルを読んで、ご依頼の動作を行い、
結果をブラウザ上に表示する様にしています。

実際のファイルを処理してみて、
何点か注意が必要だと思いました。

1) '.', '-', '!', '?', ',', '"' は要削除
2) []で囲まれた範囲は(複数行にまたがる場合も)無視する必要がある
3) 大文字は小文字に変換して集計が必要

実際に作成したもの（上記URL）は上記の点を
全て考慮して作成してみました。

今回はご縁がありませんでしたが、
また何かご依頼がありましたらよろしくお願いいたします。

富田
